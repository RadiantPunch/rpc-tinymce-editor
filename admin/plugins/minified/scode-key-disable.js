!function(d){tinymce.PluginManager.add("rpc_tinymce_scode_key_disable",function(l,e){for(var a=[8,46],o=[],t=[],n=48;n<=222;n++)o.push(n);for(var r=112;r<=145;r++)t.push(r);function i(e){return!!d(l.selection.getNode()).is(e)}function s(e,t){return 0<=d.inArray(e.which,t)}function c(){var e,t,n,r,a,o=l.selection.getNode(),i=l.selection.getSel().anchorNode.nodeValue,s=(e=o,a="",l.selection.getSel()?0<(t=l.selection.getSel()).rangeCount&&((n=t.getRangeAt(0).cloneRange()).collapse(!0),n.setStart(e,0),a=n.toString().slice(-1)):(t=l.selection)&&"Control"!=t.type&&((r=(n=t.createRange()).duplicate()).moveToElementText(e),r.setEndPoint("EndToStart",n),a=r.text.slice(-1)),a).charCodeAt(0);return null!==i?!(65279!==i.charCodeAt(0)||65279!==s&&!isNaN(s)):!(65279!==s&&!isNaN(s))}t.push(91,92,93),o=o.filter(function(e){return!t.includes(e)}),l.on("keydown",function(e){var t,n=d(l.selection.getNode()),r=l.selection.getRng();if(i(".edit")&&s(e,a)&&r.startOffset+r.endOffset===0)e.preventDefault(),e.stopImmediatePropagation();else if(i(".scode")&&s(e,a))i(".first")?(n.nextUntil(".last").remove(),n.next(".last").remove()):i(".last")?(n.prevUntil(".first").remove(),n.prev(".first").remove()):n.parent().hasClass("ddescription")||n.parent().hasClass("dterm")?(e.preventDefault(),l.undoManager.add(),n.parent().remove(),l.undoManager.add()):n.parent().hasClass("dsummary")&&s(e,a)&&e.preventDefault();else if(i(".br-only")){if(((t=e).ctrlKey||t.metaKey||t.altKey)&&s(e,o))return;if((13===e.which||s(e,o)||s(e,a))&&c())return void e.preventDefault();13===e.which&&(e.preventDefault(),l.insertContent("<br />"))}})})}(jQuery);